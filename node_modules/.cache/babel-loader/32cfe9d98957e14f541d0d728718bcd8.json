{"ast":null,"code":"import Product from \"../../model/product\";\nimport { FETCH_FLASH_PRODUCT_Fail, FETCH_FLASH_PRODUCT_START, FETCH_FLASH_PRODUCT_SUCCESS, FETCH_LATEST_PRODUCT_Fail, FETCH_LATEST_PRODUCT_START, FETCH_LATEST_PRODUCT_SUCCESS } from \"../action/actionTypes\";\nimport { ProductProcess } from \"../../model/enums\";\nconst init = {\n  products: [],\n  loading: false,\n  error: null,\n  productProcess: null\n};\n\nconst fetchFlashStart = (state, payload) => {\n  return { ...state,\n    loading: true,\n    productProcess: ProductProcess.FETCH_FLASH\n  };\n};\n\nconst fetchFlashSuccess = (state, action) => {\n  const _stateProduct = [...state.products];\n  action.payload.data.forEach(element => {\n    const existProduct = _stateProduct.find(e => e._id === element._id);\n\n    if (existProduct) {\n      existProduct.flashSell = true;\n    } else {\n      const newProduct = new Product();\n      newProduct.fromJson(element);\n      newProduct.flashSell = true;\n\n      _stateProduct.push(newProduct);\n    }\n  });\n  return { ...state,\n    loading: false,\n    productProcess: null,\n    products: _stateProduct\n  };\n};\n\nconst fetchFlashFail = (state, action) => {\n  return { ...state,\n    loading: false,\n    error: action.payload,\n    productProcess: null\n  };\n}; // latest products\n\n\nconst fetchLatestProductStart = (state, action) => {\n  return { ...state,\n    loading: true,\n    error: null,\n    ProductProcess: ProductProcess.LATEST_PRODUCT\n  };\n};\n\nconst fetchLatestProductSuccess = (state, action) => {\n  const _stateProduct = [...state.products];\n  action.payload.data.forEach(element => {\n    const existProduct = _stateProduct.find(e => e._id === element._id);\n\n    if (existProduct) {\n      existProduct.latest = true;\n    } else {\n      const newProduct = new Product();\n      newProduct.fromJson(element);\n      newProduct.latest = true;\n\n      _stateProduct.push(newProduct);\n    }\n  });\n  return { ...state,\n    loading: false,\n    productProcess: null,\n    latestproducts: _stateProduct\n  };\n};\n\nconst fetchLatestProductFail = (state, action) => {\n  return { ...state,\n    loading: false,\n    error: action.payload.err,\n    productProcess: null\n  };\n};\n\nconst reducer = (state = init, action) => {\n  switch (action.type) {\n    case FETCH_FLASH_PRODUCT_START:\n      return fetchFlashStart(state, action);\n\n    case FETCH_FLASH_PRODUCT_Fail:\n      return fetchFlashFail(state, action);\n\n    case FETCH_FLASH_PRODUCT_SUCCESS:\n      return fetchFlashSuccess(state, action);\n\n    case FETCH_LATEST_PRODUCT_START:\n      return fetchLatestProductStart(state, action);\n\n    case FETCH_LATEST_PRODUCT_SUCCESS:\n      return fetchLatestProductSuccess(state, action);\n\n    case FETCH_LATEST_PRODUCT_Fail:\n      return fetchLatestProductFail(state, action);\n\n    default:\n      return state;\n  }\n};\n\nexport default reducer;","map":{"version":3,"sources":["D:/Travel Right/travel-right-front/src/store/reducer/product.ts"],"names":["Product","FETCH_FLASH_PRODUCT_Fail","FETCH_FLASH_PRODUCT_START","FETCH_FLASH_PRODUCT_SUCCESS","FETCH_LATEST_PRODUCT_Fail","FETCH_LATEST_PRODUCT_START","FETCH_LATEST_PRODUCT_SUCCESS","ProductProcess","init","products","loading","error","productProcess","fetchFlashStart","state","payload","FETCH_FLASH","fetchFlashSuccess","action","_stateProduct","data","forEach","element","existProduct","find","e","_id","flashSell","newProduct","fromJson","push","fetchFlashFail","fetchLatestProductStart","LATEST_PRODUCT","fetchLatestProductSuccess","latest","latestproducts","fetchLatestProductFail","err","reducer","type"],"mappings":"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","sourcesContent":["import Product from \"../../model/product\";\r\nimport {\r\n  FETCH_FLASH_PRODUCT_Fail,\r\n  FETCH_FLASH_PRODUCT_START,\r\n  FETCH_FLASH_PRODUCT_SUCCESS,\r\n  FETCH_LATEST_PRODUCT_Fail,\r\n  FETCH_LATEST_PRODUCT_START,\r\n  FETCH_LATEST_PRODUCT_SUCCESS,\r\n} from \"../action/actionTypes\";\r\nimport {ProductProcess} from \"../../model/enums\";\r\n\r\ninterface productInterface {\r\n  products: Product[];\r\n  loading: boolean;\r\n  error: String | null;\r\n  productProcess: ProductProcess | null;\r\n}\r\nconst init: productInterface = {\r\n  products: [],\r\n  loading: false,\r\n  error: null,\r\n  productProcess: null,\r\n};\r\n\r\nconst fetchFlashStart = (state: productInterface, payload: any) => {\r\n  return {\r\n    ...state,\r\n    loading: true,\r\n    productProcess: ProductProcess.FETCH_FLASH,\r\n  };\r\n};\r\n\r\nconst fetchFlashSuccess = (state: productInterface, action: any) => {\r\n  const _stateProduct = [...state.products];\r\n  action.payload.data.forEach((element: any) => {\r\n    const existProduct = _stateProduct.find((e) => e._id === element._id);\r\n    if (existProduct) {\r\n      existProduct.flashSell = true;\r\n    } else {\r\n      const newProduct = new Product();\r\n      newProduct.fromJson(element);\r\n      newProduct.flashSell = true;\r\n      _stateProduct.push(newProduct);\r\n    }\r\n  });\r\n  return {\r\n    ...state,\r\n    loading: false,\r\n    productProcess: null,\r\n    products: _stateProduct,\r\n  };\r\n};\r\n\r\nconst fetchFlashFail = (state: productInterface, action: any) => {\r\n  return {\r\n    ...state,\r\n    loading: false,\r\n    error: action.payload,\r\n    productProcess: null,\r\n  };\r\n};\r\n\r\n// latest products\r\n\r\nconst fetchLatestProductStart = (state: productInterface, action: any) => {\r\n  return {\r\n    ...state,\r\n    loading: true,\r\n    error: null,\r\n    ProductProcess: ProductProcess.LATEST_PRODUCT,\r\n  };\r\n};\r\n\r\nconst fetchLatestProductSuccess = (state: productInterface, action: any) => {\r\n  const _stateProduct = [...state.products];\r\n  action.payload.data.forEach((element: any) => {\r\n    const existProduct = _stateProduct.find((e) => e._id === element._id);\r\n    if (existProduct) {\r\n      existProduct.latest = true;\r\n    } else {\r\n      const newProduct = new Product();\r\n      newProduct.fromJson(element);\r\n      newProduct.latest = true;\r\n      _stateProduct.push(newProduct);\r\n    }\r\n  });\r\n  return {\r\n    ...state,\r\n    loading: false,\r\n    productProcess: null,\r\n    latestproducts: _stateProduct,\r\n  };\r\n};\r\nconst fetchLatestProductFail = (state: productInterface, action: any) => {\r\n  return {\r\n    ...state,\r\n    loading: false,\r\n    error: action.payload.err,\r\n    productProcess: null,\r\n  };\r\n};\r\n\r\nconst reducer = (state = init, action: {type: String; payload: any}) => {\r\n  switch (action.type) {\r\n    case FETCH_FLASH_PRODUCT_START:\r\n      return fetchFlashStart(state, action);\r\n    case FETCH_FLASH_PRODUCT_Fail:\r\n      return fetchFlashFail(state, action);\r\n    case FETCH_FLASH_PRODUCT_SUCCESS:\r\n      return fetchFlashSuccess(state, action);\r\n    case FETCH_LATEST_PRODUCT_START:\r\n      return fetchLatestProductStart(state, action);\r\n    case FETCH_LATEST_PRODUCT_SUCCESS:\r\n      return fetchLatestProductSuccess(state, action);\r\n    case FETCH_LATEST_PRODUCT_Fail:\r\n      return fetchLatestProductFail(state, action);\r\n   \r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default reducer;\r\n"]},"metadata":{},"sourceType":"module"}